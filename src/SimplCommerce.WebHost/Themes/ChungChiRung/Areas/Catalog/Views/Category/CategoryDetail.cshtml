@using System.Threading.Tasks
@using System.Globalization

@addTagHelper *, SimplCommerce.Infrastructure

@model SimplCommerce.Module.Catalog.Areas.Catalog.ViewModels.ProductsByCategory
@{
    ViewBag.Title = Model.CategoryMetaTitle ?? Model.CategoryName;
    if (CultureInfo.CurrentCulture.Name != "vi-VN")
    {
        @foreach (var item in Model.Products)
        {
            item.Name = item.NameEN ?? item.Name;
            item.ShortDescription = item.ShortDescriptionEN ?? item.ShortDescription;
        }
        }
    }
    @section additionalMeta {
        <meta name="title" content="@ViewBag.Title" />
        <meta name="keywords" content="@Model.CategoryMetaKeywords" />
        <meta name="description" content="@Model.CategoryMetaDescription" />
    }
    @section head {
    }



    <section id="page">
        <div class="row">
            <div class="col-xs-12">
                <div class="row">
                    @*<div class="col-md-3 right-widget-area">
                            <div class="well">
                                <div class="list-group">
                                    <a class="list-group-item depth-0" href="/tin-tuc-2-2">Tin Tức</a>
                                    <a class="list-group-item depth-0" href="/video-2">Video</a>

                                </div>
                            </div>
                        </div>*@
                    <div class="col-md-9">
                        <h1 class="title">@Model.CategoryName</h1>
                        <ul id="news_articles" class="list-group">
                            @foreach (var item in Model.Products)
                            {
                                <a href="~/@item.Slug" class="list-group-item">
                                    <div class="row">
                                        <div class="col-sm-2">
                                            <img class="img-thumbnail" src="@item.ThumbnailUrl" alt="@item.Name">
                                        </div>
                                        <div class="col-sm-10">
                                            <h3><div class="row"><div class="col-sm-9 headline">@item.Name</div><div class="col-sm-3"><small class="pull-right hidden-xs"> @item.CreatedOn.ToString("dd/MM/yyyy")</small><small class="visible-xs">@item.CreatedOn.ToString("dd/MM/yyyy")</small></div></div></h3><p>
                                            </p><p style="text-align: justify; "><span style="color: rgb(46, 44, 41); font-family: Arial; font-size: 14px; text-align: left;">@Html.Raw(item.ShortDescription)</span><br></p>
                                        </div>
                                    </div>
                                </a>
                            }
                        </ul>
                    </div>
                    @*<div class="col-md-9">
                            <h1 class="title">@Model.CategoryName</h1>
                            <ul id="news_articles" class="list-group">
                                @foreach (var item in Model.Products)
                                {
                                    <a href="~/@item.Slug" class="list-group-item">
                                        <div class="row">
                                            <div class="col-sm-2">
                                                <img class="img-thumbnail" src="@item.ThumbnailUrl" alt="@item.Name">
                                            </div>
                                            <div class="col-sm-10">
                                                <h3><div class="row"><div class="col-sm-9 headline">@item.Name</div><div class="col-sm-3"><small class="pull-right hidden-xs"> @item.CreatedOn.ToString("dd/MM/yyyy")</small><small class="visible-xs">@item.CreatedOn.ToString("dd/MM/yyyy")</small></div></div></h3><p>
                                                    @Html.Raw(item.ShortDescription)
                                                </p>
                                            </div>
                                        </div>
                                    </a>
                                }
                            </ul>
                        </div>*@
                </div>
            </div>
        </div>
    </section>
    <div class="row">
        <div class="col-md-12 text-right">
            <cs-pager cs-paging-pagesize="@Model.CurrentSearchOption.PageSize"
                      cs-paging-pagenumber="@Model.CurrentSearchOption.Page"
                      cs-paging-totalitems="@Model.TotalProduct"
                      cs-pagenumber-param="page"
                      asp-basehref="~/@Model.CategorySlug"
                      asp-all-route-data="@Model.CurrentSearchOption.ToDictionary()"></cs-pager>
        </div>
    </div>
