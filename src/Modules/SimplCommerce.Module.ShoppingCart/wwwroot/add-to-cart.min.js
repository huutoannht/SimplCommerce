$(function(){$("body").on("click",".btn-add-cart",function(n){n.preventDefault();$("#productOverview").modal("hide");$(".btn-add-cart").attr("disabled",!0);var t,u=$(this).closest("form"),i=$(this).closest("form").find("input[name=productId]").val(),r=u.find(".quantity-field");t=r.length===1?r.val():1;$.ajax({type:"POST",url:"/cart/add-item",data:JSON.stringify({productId:i,quantity:t}),contentType:"application/json"}).done(function(n){$(".btn-add-cart").attr("disabled",!1);$("#shopModal").find(".modal-content").html(n);$("#shopModal").modal("show");$(".cart-badge .badge").text($("#shopModal").find(".cart-item-count").text());$.ajax({type:"GET",url:"/cart/list",data:JSON.stringify({productId:i,quantity:t}),contentType:"application/json"}).done(function(n){$(".js-show-cart").attr("data-notify",n.items.length)})}).fail(function(){$("#shopModal").find(".modal-content").html('                 <div class="modal-header">                     <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;<\/span><\/button>                     <h4 class="modal-title" id="myModalLabel">Oops<\/h4>                 <\/div>                 <div class="modal-body">                     Something went wrong.                 <\/div>');$("#shopModal").modal("show")})})});